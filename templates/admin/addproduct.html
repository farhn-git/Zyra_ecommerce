{% extends 'admin/index.html' %}
{% block content %}
<div class="add-product-form">
    <form action="{% url 'addproducts_post' %}" enctype="multipart/form-data" method="POST">
        {% csrf_token %}

        <div class="form-row">
            <div class="form-group">
                <label for="name">Product Name</label>
                <input type="text" name="name" id="name" required>
            </div>

            <div class="form-group">
                <label for="price">Price</label>
                <input type="number" name="price" id="price" required>
            </div>

            <div class="form-group">
                <label for="quantity">Quantity</label>
                <input type="number" name="quantity" id="quantity" required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="image1">Image 1</label>
                <img id="preview1" class="preview" alt="Preview Image 1">
                <input type="file" name="image1" id="image1" accept="image/png, image/jpeg"
                    onchange="previewImage(event, 'preview1')">

            </div>

            <div class="form-group">
                <label for="image2">Image 2</label>
                <img id="preview2" class="preview" alt="Preview Image 2">
                <input type="file" name="image2" id="image2" accept="image/png, image/jpeg"
                    onchange="previewImage(event, 'preview2')">

            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="collection">Collection</label>
                <select name="collection" id="collection" required>
                    {% for i in data %}
                    <option value="{{ i.id }}">{{ i.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group button-group">
                <button type="submit" class="addproduct-btn">Add Product</button>
                <a href="{% url 'viewproducts' %}" class="editproduct-btn" >Cancel</a>
            </div>

        </div>
    </form>
</div>

<script>
    function previewImage(event, previewId) {
        const reader = new FileReader();
        reader.onload = function () {
            const output = document.getElementById(previewId);
            output.src = reader.result;
            output.style.display = "block";
        };
        reader.readAsDataURL(event.target.files[0]);
    }
</script>
{% endblock %}